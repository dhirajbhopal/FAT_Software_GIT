{% load static %}
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=yes">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.9.2/html2pdf.bundle.js">
    </script>
    <script src= "https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.3.2/jspdf.min.js">
      </script>
      
    <title>FAT FINAL ALL</title>
  </head>
  <style type="text/css">
    @media print {
    .pagebreak { page-break-before: always; }
}
  </style>

  <body>
    {% for i in fatall %}
    <div id="data" class="container-fluid" style="background-image: url(static/blankfat1200new.jpeg); background-repeat: no-repeat; background-position:center;">
    <div class="container overflow-hidden text-left"> 
  <div class="row gx-5">
    <div class="col-2">
      <br><br><br><br><br><br><br><br><br>
    <input type="text" value="{{i.name}}" style="background:transparent; color:#323332; margin-left: 225px; width: 250px; border: 0px solid;font-weight: bolder;margin-top:80px; font-size: 20px; font-family:Bodoni72Oldstyle;">
    <br>
    <input type="text" value="{{i.empid}}" style=" background: transparent; color:#323332; margin-left: 230px; border: 0px solid;font-weight: bolder;margin-top:4px; font-size: 20px; font-family:Bodoni72Oldstyle;">
    <br><br><br>
  
    <input type="text" value="{{i.dept}}" style="border: 0px solid;  color:#323332; background: transparent; margin-left: 225px; font-weight: bolder; font-size: 20px; font-family:Bodoni72Oldstyle;">
    <br>
    
    <input type="text" value="{{i.circle}}" style="background: transparent;  color:#323332; margin-left: 250px; margin-top: 2px; border: 0px solid;font-weight: bolder; font-size: 20px; font-family:Bodoni72Oldstyle;">
    <br><br><br><br>
    <input type="text" value="{{i.grade}}" style="margin-left:155px;  color:#323332; margin-top: 10px; background: transparent; border: 0px solid;font-weight: bolder; font-size: 20px; font-family:Bodoni72Oldstyle;">
  </div>
    <div class="col">
      <br><br><br><br><br><br><br><br><br><br><br>
      <div style="margin-left:710px; margin-top:78px;"><img src="{{i.image}}" height="92px" width="90px"></div>
    </div>
  </div>
</div>
<div class="container px-4 text-left">
  <div class="row gx-5">
    <div class="col-2">
      <br>
     <div class=""><input type="text" value="{{i.location}}" style="margin-left:175px;  color:#323332; background: transparent; width: 90px; border: 0px solid;font-weight: bolder;margin-top:3px;  font-size: 20px; font-family:Bodoni72Oldstyle;">
      <br><br>
    <input type="text" value="{{i.certno}}" style=" margin-top:5px; background: transparent;  margin-left: 255px; border: 0px solid;font-weight: bolder;  color:#323332; margin-top: 6px; font-size: 20px; font-family:Bodoni72Oldstyle;">
    <br><br><br><br><br><br><br></div>
    </div>
    <div class="col-2 p-0" style="margin-left:185px; margin-top:10px">
      <div ><img src="{{i.qr}}" height="85px"> 
      </div>
    </div>
    <div class="col">
      <br>
      <div class=""><input type="text" value="{{i.date}}" style="background: transparent;  color:#323332; margin-left:47px;border: 0px solid;font-weight: bolder; font-size: 20px; margin-top:3px; font-family:Bodoni72Oldstyle;"></div>
    </div>
  </div>
</div>
</div>
<div class="pagebreak"> </div>
{% endfor %}
<button onclick="generatePDF()" style="margin-left:200px;">Generate PDF</button>
</body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.5.3/jspdf.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://fbktnsetnet.000webhostapp.com/wp-content/uploads/2018/04/html2canvas.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.4.1/jspdf.debug.js"></script>
<script type="text/javascript">
function generatePDF(){
    var div = document.querySelector('#data')
    var imgData
    html2canvas(div,{
        useCORS:true,
        onrendered:function(canvas){
            imgData = canvas.toDataURL('image/png')

            var doc = new jsPDF('p','pt','a2')

            doc.addImage(imgData,'PNG',1,0)

            doc.save("FAT.pdf")

            window.open(imgData)
        }
    })
   }
</script>
</html>